---
layout: post
title : Git commands
author: Mégane Vilain
category: Git
---

### Création d'un projet

|Commande  | Description |
|---|---|
|`git init`|Initialise un répertoire vide|
|`git clone "project_url"`|Crée une version locale d'un projet déjà existant|

### Lier le projet local au projet en ligne

|Commande  | Description |
|---|---|
|`git remote`|Affiche la liste des reomte|
|`git remote -v`|Affiche la liste des remotes avec les url|
|`git remote add "remote_name" "url"`|Ajoute une url|
|`git remote delete "remote_name"`|Supprime une url|


### Infos sur les branches 

|Commande  | Description |
|---|---|
|`git branch`|Liste toutes les branches locales et indique la branche actuelle|
|`git branch -a`|Liste toutes les branches locales et en amont|
|`git branch -v`|Liste toutes les branches et affiche le dernier commit|
|`git branch -vv`|Liste toutes les branches et affiche la branche en amont|


### Manipulation de branches

|Commande  | Description |
|---|---|
|`git checkout "branch_name"`|Change de branche|
|`git branch "branch_name"`|Crée une nouvelle branche à partir de la branche actuelle|
|`git checkout -b "branch_name"`|Crée une nouvelle branche à partir de la branche actuelle et se positionne dessus|
|`git checkout -b "branch_name" "remote_name"/"branch_name"`|Crée une nouvelle branche qui est une copie de la branche en amont et se place dessus|
|`git branch -u "remote_name"/"branch_name"`|Traque une branche en amont - **Les noms de de branche en local et en amont doivent être identiques**|
|`git branch -d "branch_name"`|Supprime la branche locale|
|`git branch -d "origin_name"/"branch_name"`|Suprrime la branche en amont|
|`git push "remote_name" --delete "branch_name"`|Supprime la branche en amont et en local|

### Renommer une branche

1.  Se positionner sur la branche à renommer - `git chekout "old_name"`
2.  Renommer la branche - `git branch -m "new_name"`

**Si la branche est déjà présente sur Gitlab, il faut exécuter les deux étapes suivantes:**
1.  Supprimer la branche en question - `git push origin --delete "old_name"`
2.  Pousser la branche renommée - `git push origin -u "new_name"`

### Modifications de code

|Commande  | Description |
|---|---|
|`git status`|Affiche la liste de modifications|
|`git log`|Liste l'historique des commits de la branche|
|`git add "file_name"`|Ajoute un fichier au futur commit |
|`git add -A`|Ajoute tous les fichiers modifiés et suivis au futur commit|
|`git add .`|Ajoute tous les fichiers modifiés au futur commit|
|`git reset HEAD "file_name"`|Enlève un fichier du futur commit|
|`git checkout -- "file_name"`|Supprime les modifications apportées à un fichier|
|`git commit -m "message"`|Effectue un commit en local|
|`git push`|Envoie en amont les commits effectués|

### Modifier un commit **local**

**Ne fonctionne que pour le dernier commit**

Modifier le message du commit - `git commit --amend -m "an updated commit message"`

Modifier les fichiers du commit : 
* Effectuer les modifications (modifier, ajouter ou supprimer un des fichier du commit)   
* `git commit --amend --no-edit` (le flag --no-edit indique qu'il ne faut pas modifier le message du commit original

### Récupérer les modifications en amont

#### Git Fetch

```
Récupère les modifications effectués en amont mais ne les fusione pas avec la version en local
```

|Commande  | Description |
|---|---|
|`git fetch "remote_name"`|Récupére les modifications de toutes les branches en amont|
|`git fetch "remote_name" "branch"`|Récupére les modifications de la branche en amont|

#### Git Pull

```
Récupère les modifications effectués en amont et tente de les fusioner avec la version en local - Effectue un git fetch suivi d'un git merge
```

|Commande  | Description |
|---|---|
|`git pull "remote_name"`|Récupère et merge les modifications de la branche|

### Git Merge


**Merge Request**: Pour effectuer un merge sur la branche master il faut utiliser l'interface graphique de GITLAB 


### Git Stash 

```
Sauvegarder ses changements temporairement 
La commande prend les changements non commités et les mets de côté.  Cette utile pour pourvoir changer de branche sans commiter les changement qui ont été effectués sur le code.
```

|Commande | Description|
|---|---|
|`git stash` |Mettre les changements de coté|
|`git stash save "message"`|Mettre les changements de coté avec un message personnalisé|
|`git stash list`|Liste des changements mis de coté|
|`git stash show` | Affiche un résumé d'un stash
|`git stash show -p` | Affiche la comparaison complètes d'un stash
|`git stash apply`|Réapplique le dernier changement mis de côté sans le supprimer de la liste|
|`git stash pop`|Réapplique le dernier changement mis de côté et le supprime de la liste|
|`git stash drop "stash_id"`|Supprime de la liste
|`git stash clear` | Supprime tous les stash
|`git stash branch "branch_name"`|Crée une nouvelle branche locale à partir des changements mis de côté|
