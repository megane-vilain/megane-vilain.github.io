---
layout: post
title : Commands
author: MÃ©gane Vilain
category: Docker
---

# Docker hub
|Command|Description|
|---|---|
|docker login -u <username> -p <password> <server_url>||
|docker search <image_name>||
|docker pull <image_name>||

# Images

|Command|Description|
|---|---|
|docker images|List all images|
|docker rmi <image_name>| Delete an image|
|docker image prune| Remoe all unused images|

## Build an image

The following command is the basic way to build an image.
It's implied that the Dockerfile has the correct name and it's using the currect directory for build context (*)

```bash
docker build .
```

### Common options 

|Option|Description|
|---|---|
|--dns=<ip_addr>|Set custom dns servers|
|--env=<env_value>|Add en environment value to the built image|
|-f <conterfile_path>|Speficies a specific Dockerfile to build. Can be a local file, or an url. If context is omitted, folder of the dockerfile will be used|
|--from|Overrides the first FROM instruction within the Dockerfile|
|--http-proxy|By default proxy env values are passed to the container. Can be disabled by passing this value to false|
|--label=<label_value>|Add a label to the image|
|--tag, -t=<image_name>|Specifies the name which is assigned to the result image|

### Secrets

```bash
--secret=id=id[,src=envOrFile][,env=ENV][,type=file | env]
```
Pass  secret  information to be used in the Containerfile for building images in a safe way that will not end up stored in the final image.

The value of the secret will be read  from an  environment  variable  or  file  named  by  the  "id"  option,  or named by the "src" option if it is specified, or from an environment variable specified by the "env" option.

To use the secret use the --mount flag in a **RUN** instruction inside the Dockerfile

```bash
RUN --mount=type=secret,id=mysecret cat /run/secrets/mysecret
```
### Volumes

```bash
 --volume, -v=[HOST-DIR:CONTAINER-DIR[:OPTIONS]]
```
Mount a host directory into containers when executing RUN instructions during the build.
It's possible to mount multiples volumes.

The CONTAINER-DIR must be an absolute path such as /src/docs. The HOST-DIR must be an  absolute  path  as well.
The options are a comma separated list from these ones: (Default is read-write)

* [rw|ro]
* [z|Z|O]
* [U]
* [[r]shared|[r]slave|[r]private][1]

# Containers

|Command|Description|
|---|---|
|docker ps| List all running containers|
|docker ps --all| List all containers|
|docker start|stop <container_name>|Start or stop a container|
|docker rm <container_name>|Delete a container|
|docker logs -f <container_name>|Fetch and follow the logs|
|docker inspect <container_name>|Provides detailled information|
|docker exec -it <container_name> sh|Start a shell inside the container -it is for interactive mode

## Run a container
