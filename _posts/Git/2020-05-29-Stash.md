---
layout: post
title : Stash
author: Mégane Vilain
category: Git
---

The git stash command takes your uncommitted changes (both staged and unstaged), saves them away for later use, and then reverts them from your working copy. <br>
Will not stash new files in your working copy that have not yet been staged and files that have been ignored. 

### Create

```bash
# staged and unstaged files
git stash
```

```bash
# staged, unstaged and untracked files
git stash -u
git stash --include-untracked
```

```bash
# staged, unstaged, untracked and ignored files
git stash -a
git stash --all
```

It's possible to stash just a single file, a collection of files or individual changes from within files. <br>
With --patch option, it will iterate through each changed chunk in your working copy and ask whether you wish to stash it 

```bash
# alias for git push -p 
git stash -p
git stash --patch 
```


It's possible to annotate the stash with a descrition 

```bash
git stash push -m  "Add custom style"
```

### View 

Note that the stash is local to your Git repository; stashes are not transferred to the server when you push.

```console
$ git stash list
stash@{0}: On main: Add custom style
stash@{1}: WIP on main: 5002d47 our new homepage
stash@{2}: WIP on main: 5002d47 our new homepage
```

You can view a summary of a stash with this command 

```bash
git stash show
git stash show stash@{1}
git stash show --patch #full view
```

### Reapply stash

By default, theses commands will re-apply the most recently created stash **stash@{0}**. <br>
You can choose which stash to apply by passing it's identifier as last arguement

```bash
# Applies and keep stash entry
git stash apply stash@{1}
```

```bash
# Apply and delete from the stash list
git stash pop 
```

```bash
# Delete a stash entry without applying the content
git stash drop 
```

```bash
# Delete all of your stashes
git stash clear
```

### Create a branch from a stash

If the changes on your branch diverge from the changes in your stash, you may run into conflicts when popping or applying your stash. <br>
Instead, you can use git stash branch to create a new branch to apply your stashed changes to


```bash
git stash branch <branch_name> stash@{1}
```


### Configuration 
Everything below this line in this section is selectively included from the git-config[1] documentation. The content is the same as what’s found there:

#### stash.showIncludeUntracked
If this is set to true, the git stash show command will show the untracked files of a stash entry. Defaults to false.

#### stash.showPatch
If this is set to true, the git stash show command without an option will show the stash entry in patch form. Defaults to false.

#### stash.showStat
If this is set to true, the git stash show command without an option will show a diffstat of the stash entry. Defaults to true.
